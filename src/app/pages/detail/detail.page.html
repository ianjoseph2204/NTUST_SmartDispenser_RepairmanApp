<ion-header class="background" no-border>

  <ion-item class="title" lines="none">
    <ion-title><span class="client-name">{{data.ClientName}}</span></ion-title>
    <ion-icon slot="end" mode="ios" name="arrow-down" (click)="dismiss()" style="cursor: pointer"></ion-icon>
  </ion-item>

</ion-header>

<ion-content class="background">

  <ion-list padding>

    <ion-item lines="none">
      <ion-label text-wrap>
        <p class="item--title">TELEPHONE</p>
        <span class="item--detail">{{data.ClientPhone}}</span>
      </ion-label>
      <ion-button size="small">CALL</ion-button>
    </ion-item>

    <ion-item lines="none">
      <ion-label text-wrap>
        <p class="item--title">CONTACT</p>
        <span class="item--detail">{{data.ClientContactPerson}}</span>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label text-wrap>
        <p class="item--title">ADDRESS</p>
        <span class="item--detail">{{data.ClientAddress}}</span>
      </ion-label>
      <ion-button size="small">MAP</ion-button>
    </ion-item>

    <ion-item lines="none">
      <ion-label text-wrap>
        <p class="item--title">MACHINE TYPE</p>
        <span class="item--detail">{{data.DeviceType}}</span>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label text-wrap>
        <p class="item--title">ERROR CODE</p>
        <span class="item--detail">{{data.ErrorCode}}</span>
      </ion-label>
    </ion-item>
    
    <ion-item lines="none">
      <ion-label text-wrap>
        <p class="item--title">PROBLEM</p>
        <span class="item--detail">{{data.ProblemDescription}}</span>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label text-wrap>
        <p class="item--title">NOTIFICATION TIME</p>
        <span class="item--detail">{{data.NotificationTime}}</span>
      </ion-label>
    </ion-item>
    
    <ion-item lines="none">
      <ion-label text-wrap>
        <p class="item--title">REPAIRMAN</p>
        <span class="item--detail">{{data.Repairman}}</span>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label text-wrap>
        <p class="item--title">CLIENT NUMBER</p>
        <span class="item--detail">{{data.ClientNumber}}</span>
      </ion-label>
    </ion-item>
    
    <ion-item lines="none">
      <ion-label text-wrap>
        <p class="item--title">MISSION NUMBER</p>
        <span class="item--detail">{{data.MissionNumber}}</span>
      </ion-label>
    </ion-item>

    <ion-item *ngIf="doneMission" lines="none">
      <ion-label text-wrap>
        <p class="item--title">REPORT PICTURES</p>
        <div *ngIf="data.ReportIndex !== 0">
          <img
          *ngFor="let images of data.ReportImages; let i=index"
          [src]="images.ReportImage"
          alt="image-{{i+1}}"
          class="image-report" />
        </div>
        <div *ngIf="data.ReportIndex === 0">
          <span class="item--detail">No pictures reported.</span>
        </div>
      </ion-label>
    </ion-item>

  </ion-list>
</ion-content>

<ion-footer *ngIf="!doneMission">

  <section class="full-width">
    <ion-button expand="full" *ngIf="!Arrived" (click)="arrived()">Arrived</ion-button>

    <ion-grid *ngIf="Arrived">
      <ion-row>
        <ion-col size="6">
          <div>
            <ion-button expand="full" (click)="wantToClearMission(false)">Cannot complete<br>by now</ion-button>
          </div>
        </ion-col>
        <ion-col size="6">
          <div>
            <ion-button expand="full" (click)="wantToClearMission(true)">Complete repair</ion-button>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </section>

</ion-footer>

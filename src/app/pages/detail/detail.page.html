<ion-header class="background" no-border>

  <ion-item class="title" lines="none">
    <ion-title><span class="client-name">{{data.ClientName}}</span></ion-title>
    <ion-icon slot="end" mode="ios" name="arrow-down" (click)="dismiss()" style="cursor: pointer"></ion-icon>
  </ion-item>

</ion-header>

<ion-content class="background">

  <ion-list padding>

    <ion-item lines="none">
      <ion-label>
        <p class="item--title">TELEPHONE</p>
        <span class="item--detail">{{data.ClientPhone}}</span>
      </ion-label>
      <ion-button size="small">CALL</ion-button>
    </ion-item>

    <ion-item lines="none">
      <ion-label>
        <p class="item--title">CONTACT</p>
        <span class="item--detail">{{data.ClientContactPerson}}</span>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label>
        <p class="item--title">ADDRESS</p>
        <span class="item--detail">{{data.ClientAddress}}</span>
      </ion-label>
      <ion-button size="small">MAP</ion-button>
    </ion-item>

    <ion-item lines="none">
      <ion-label>
        <p class="item--title">MACHINE TYPE</p>
        <span class="item--detail">{{data.MachineType}}</span>
      </ion-label>
    </ion-item>
    
    <ion-item lines="none">
      <ion-label>
        <p class="item--title">MACHINE NUMBER</p>
        <span class="item--detail">{{data.MachineNumber}}</span>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label>
        <p class="item--title">ERROR CODE</p>
        <span class="item--detail">{{data.ErrorCode}}</span>
      </ion-label>
    </ion-item>
    
    <ion-item lines="none">
      <ion-label>
        <p class="item--title">PROBLEM</p>
        <span class="item--detail">{{data.ProblemOccured}}</span>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label>
        <p class="item--title">NOTIFICATION TIME</p>
        <span class="item--detail">{{data.NotificationTime}}</span>
      </ion-label>
    </ion-item>
    
    <ion-item lines="none">
      <ion-label>
        <p class="item--title">REPAIRMAN</p>
        <span class="item--detail">{{data.Repairman}}</span>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label>
        <p class="item--title">CLIENT NUMBER</p>
        <span class="item--detail">{{data.ClientNumber}}</span>
      </ion-label>
    </ion-item>
    
    <ion-item lines="none">
      <ion-label>
        <p class="item--title">MISSION NUMBER</p>
        <span class="item--detail">{{data.MissionNumber}}</span>
      </ion-label>
    </ion-item>

    <ion-item *ngIf="doneMission">
      <ion-label>
        <p class="item--title">REPORT PICTURES</p>
        <img
          *ngFor="let images of data.ReportImages; let i=index"
          [src]="images.ReportImage"
          alt="image-{{i+1}}"
          class="image-report" />
      </ion-label>
    </ion-item>

  </ion-list>
</ion-content>
<ion-footer>

  <section class="full-width">
    <ion-button expand="full" *ngIf="!Arrived" (click)="arrived()">Arrived</ion-button>

    <ion-grid *ngIf="Arrived">
      <ion-row>
        <ion-col size="6">
          <div>
            <ion-button expand="full" (click)="applyForComponent()">Apply for<br>Component</ion-button>
          </div>
        </ion-col>
        <ion-col size="6">
          <div>
            <ion-button *ngIf="!inputCamera" expand="full" (click)="compleRepair()">Comple Repair</ion-button>
            <ion-button *ngIf="inputCamera" expand="full" (click)="imageInput.click()">Comple Repair</ion-button>
            <input type="file" id="file-input" accept="image/*;capture=camera" style="display: none;"
              (change)="uploadImage($event)" multiple #imageInput>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </section>


  <!-- <ion-segment>
    <ion-segment-button>
      <ion-label>Apply for<br> Component</ion-label>
    </ion-segment-button>
    <ion-segment-button>
      <ion-label>Comple Repair</ion-label>
    </ion-segment-button>
  </ion-segment> -->
</ion-footer>